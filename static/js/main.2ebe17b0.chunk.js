(this["webpackJsonpflowchart-ui"]=this["webpackJsonpflowchart-ui"]||[]).push([[0],{172:function(e,t,n){e.exports=n(293)},177:function(e,t,n){},213:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=213},293:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(65),c=n.n(o),i=(n(177),n(178),n(28)),s=n(29),l=n(31),u=n(30),p=n(42),d=n(23),h=n(168),m=n(7),f=n.n(m),b=n(43),g=n(84),E=n(297),v=n(299),C=n(298),y=n(296),w=n(300),O=n(66),j=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.title,o=e.titleShort,c=this.props.searchbarFilter,i=this.props.homeTo;t||(t=[r.a.createElement("div",null,"No content")]),t.length||(t=[t]);var s=t.filter((function(e){return"[object Array]"!==Object.prototype.toString.call(e)}));t.filter((function(e){return"[object Array]"===Object.prototype.toString.call(e)})).forEach((function(e){s=s.concat(e)})),t=s,a.length||(a=[a]);var l=a,u=Object(g.a)(l,2),p=u[0],d=u[1],h=void 0===d?"":d;o.length||(o=[o]);var f=o,j=Object(g.a)(f,2),k=j[0],N=j[1],S=void 0===N?"":N,T=t&&t.length&&t.filter((function(e){return e.type===m.Navbar.Core})),D=Object(g.a)(T,1)[0];t.findIndex((function(e){return e.type===m.ControlSidebar}))>0&&(D=r.a.cloneElement(D,{additionalMenus:[r.a.createElement(m.Navbar.ControlSidebarEntry,{key:"control-sidebar-entry"})]}));var x=t.filter((function(e){return e!==D})),A=x.filter((function(e){return e.props&&e.props.path||"function"===typeof e.type&&e.type===E.a})).map((function(e){return e.type!==v.a||e.type!==E.a?e.type===m.AsyncContent?r.a.createElement(v.a,{modal:e.props.modal,key:e.props.path,path:e.props.path,exact:e.props.exact,component:Object(m.AsyncComponent)((function(){return n(213)(e.props.component)}))}):r.a.createElement(v.a,{modal:e.props.modal,key:e.props.path,path:e.props.path,exact:e.props.exact,render:function(t){return r.a.cloneElement(e,Object(b.a)({key:e.props.key?e.props.key:e.props.path},t))}}):e})),M=A.filter((function(e){return!e.props.modal})),_=A.filter((function(e){return e.props.modal})),B=x.find((function(e){return e.type===m.Sidebar.Core})),R=x.find((function(e){return e.type===m.Footer})),P=this.props,I=P.sidebar,F=P.footer;B&&I&&console.error("Pass sidebar either as prop or child but not both"),R&&F&&console.error("Pass footer either as prop or child but not both");var L=B||r.a.createElement(m.Sidebar.Core,{searchbarFilter:c},I),H=R||F;return r.a.createElement(C.a,null,r.a.createElement("div",{className:"wrapper"},r.a.createElement("header",{className:"main-header"},r.a.createElement(y.a,{className:"logo",to:i},r.a.createElement("span",{className:"logo-mini"},r.a.createElement("b",null,k),S),r.a.createElement("span",{className:"logo-lg"},r.a.createElement("b",null,p),h)),r.a.createElement("nav",{className:"navbar navbar-static-top"},r.a.createElement("div",{className:"sidebar-toggle","data-toggle":"push-menu",role:"button"},r.a.createElement(O.FontAwesomeIcon,{icon:["fas","bars"]}),r.a.createElement("span",{className:"sr-only"},"Toggle navigation")),r.a.createElement("div",{className:"navbar-custom-menu"},D))),L,r.a.createElement(w.a,null,_),r.a.createElement("div",{className:"content-wrapper"},r.a.createElement(w.a,null,M)),H))}}]),a}(f.a),k=n(78),N=n(81),S=n.n(N),T=S.a.namespace("charts"),D=function(e){return function(t){return t(function(e){return{type:"SELECT_CHART",id:e}}(e))}},x=function(e,t,n){return function(a){var r={id:e,title:t,code:n};return T.set(e,r),a(function(e){return{type:"CREATE_CHART",chart:e}}(r))}},A=function(e,t,n){return function(a){var r={id:e,title:t,code:n};return T.add(e,r),a(function(e){return{type:"UPDATE_CHART",chart:e}}(r))}},M=function(e){return function(t){return T.remove(e),t(function(e){return{type:"DELETE_CHART",id:e}}(e))}},_=function(){var e=["st=>start: Start:>http://www.google.com[blank]\ne=>end:>http://www.google.com\nop1=>operation: My Operation\nsub1=>subroutine: My Subroutine\ncond=>condition: Yes\nor No?:>http://www.google.com\nio=>inputoutput: catch something...\npara=>parallel: parallel tasks\n\nst->op1->cond\ncond(yes)->io->e\ncond(no)->para\npara(path1, bottom)->sub1(right)->op1\npara(path2, top)->op1\n","st=>start: Start|past:>http://www.google.com[blank]\ne=>end: End|future:>http://www.google.com\nop1=>operation: My Operation|past\nop2=>operation: Stuff|current\nsub1=>subroutine: My Subroutine|invalid\ncond=>condition: Yes\nor No?|approved:>http://www.google.com\nc2=>condition: Good idea|rejected\nio=>inputoutput: catch something...|future\n\nst->op1(right)->cond\ncond(yes, right)->c2\ncond(no)->sub1(left)->op1\nc2(yes)->io->e\nc2(no)->op2->e\n"];return e[Math.floor(Math.random()*e.length)]},B=S.a.namespace("charts"),R={selected:"",charts:function(){var e={id:0,title:"Example Chart",code:_()},t=B.getAll();return Object.keys(t).length>0?t:{0:e}}()},P=function(e,t){return Object.assign({},e,{charts:Object(b.a)(Object(b.a)({},e.charts),{},Object(k.a)({},t.id,t))})},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_CHART":case"UPDATE_CHART":return P(e,t.chart);case"SELECT_CHART":return Object.assign({},e,{selected:t.id});case"DELETE_CHART":var n=Object(b.a)({},e.charts);return delete n[t.id],Object.assign({},e,{charts:n});default:return e}},F=n(20),L=n(113),H=n.n(L),V=n(169),G=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).onClickRender=function(e){var t=a.state.code;a.renderDiagram(t),a.props.updateChart(a.props.id,a.props.title,t)},a.onChangeMarkdown=function(e){a.setState({code:e.target.value})},a.onDownload=function(e,t){var n=a.canvas.current.innerHTML,r=document.createElement("canvas"),o=r.getContext("2d");V.a.fromString(o,n).start();var c=document.createElement("a");c.setAttribute("download",a.props.title+e),c.setAttribute("href",r.toDataURL(t)),c.click()},a.onDownloadSVG=function(e){var t=a.canvas.current.innerHTML,n=document.createElement("a");n.setAttribute("download",a.props.title+".svg"),n.setAttribute("href","data:image/svg+xml,"+encodeURIComponent(t)),n.click()},a.onKeyPressMarkdown=function(e){if("Enter"===e.key){var t=a.state.code;a.renderDiagram(t),a.props.updateChart(a.props.id,a.props.title,t)}},a.renderDiagram=function(e){try{if(e){document.getElementById("canvas-svg").innerHTML="";var t=H.a.parse(e);t.drawSVG("canvas-svg"),a.setState({chart:t})}}catch(n){}},a.renderMarkdownButtons=function(){return[r.a.createElement(m.Button,{key:"render",type:"danger",text:"Render",onClick:a.onClickRender,className:"margin-right"})]},a.renderVisualisationButtons=function(){return[r.a.createElement(m.Button,{key:"export",className:"export",type:"info",text:"Export"},r.a.createElement(m.Button,{type:"info",text:"SVG",onClick:a.onDownloadSVG,className:"margin-right"}),r.a.createElement(m.Button,{type:"info",text:"PNG",onClick:function(){return a.onDownload(".png","image/png")},className:"margin-right"}),r.a.createElement(m.Button,{type:"info",text:"JPG",onClick:function(){return a.onDownload(".jpeg","image/jpeg")}}))]},a.canvas=r.a.createRef(),a.onClickRender=a.onClickRender.bind(Object(F.a)(a)),a.onChangeMarkdown=a.onChangeMarkdown.bind(Object(F.a)(a)),a.onKeyPressMarkdown=a.onKeyPressMarkdown.bind(Object(F.a)(a)),a.onDownload=a.onDownload.bind(Object(F.a)(a)),a.onDownloadSVG=a.onDownloadSVG.bind(Object(F.a)(a)),a.renderDiagram=a.renderDiagram.bind(Object(F.a)(a)),a.state={code:a.props.code,chart:H.a.parse("")},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.code&&this.renderDiagram(this.props.code),this.props.id&&this.props.selectChart(this.props.id)}},{key:"componentDidUpdate",value:function(e){this.props.code!==e.code&&this.setState({code:this.props.code}),this.props.id!==e.id&&this.props.selectChart(this.props.id)}},{key:"render",value:function(){return r.a.createElement(m.Content,{title:this.props.title,browserTitle:this.props.title},r.a.createElement(m.Row,null,r.a.createElement(m.Col,{xs:6},r.a.createElement(m.Box,{title:"Markdown",type:"primary",collapsable:!0,footer:this.renderMarkdownButtons()},r.a.createElement("textarea",{className:"form-control",rows:"20",value:this.state.code,onChange:this.onChangeMarkdown,onKeyPress:this.onKeyPressMarkdown}))),r.a.createElement(m.Col,{xs:6},r.a.createElement(m.Box,{title:"Visualisation",type:"secondary",collapsable:!0,footer:this.renderVisualisationButtons()},r.a.createElement("div",{ref:this.canvas,id:"canvas-svg"})))))}}]),n}(r.a.Component);G.defaultProps={code:"",selectChart:function(){},updateChart:function(){}};var U=Object(p.b)((function(e,t){var n=t.match.params.id;return Object(b.a)({},e.charts.charts[n])}),(function(e){return Object(d.b)({selectChart:D,updateChart:A},e)}))(G),K=n(32),X=m.Inputs.Text,J=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).getChartId=function(e){return e.replace(/\s+/g,"-").toLowerCase()},a.onChange=function(e){a.setState({name:e.target.value})},a.onCreate=function(e){var t=a.state.name,n=a.getChartId(t);a.props.createChart(n,t,""),a.props.history.push("/diagram/"+n)},a.getChartId=a.getChartId.bind(Object(F.a)(a)),a.onCreate=a.onCreate.bind(Object(F.a)(a)),a.state={name:""},a}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(m.Content,{modal:!0,title:"Add Chart",modalCloseTo:"/"},r.a.createElement(X,{label:"Name",placeholder:"Name of the Chart",onChange:this.onChange}),r.a.createElement(m.ButtonGroup,{margin:!0},r.a.createElement(m.Button,{dataTestid:"create-chart",type:"primary",text:"Create",onClick:this.onCreate,className:"margin-right"})))}}]),n}(r.a.PureComponent);J.defaultProps={history:Object(K.a)()};var W=Object(p.b)((function(e){return e}),(function(e){return Object(d.b)({createChart:x},e)}))(J),Y=m.Sidebar.Item,$=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).getCharts=function(){return Object.values(a.props.charts)},a.getAddButton=function(){return r.a.createElement("span",{id:"new-chart",className:"padding-top text-center input-group-btn"},r.a.createElement(m.Button,{type:"danger",text:"+ New Chart",to:"/new-chart"}))},a.getAddButton=a.getAddButton.bind(Object(F.a)(a)),a.state={},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,this.getCharts().map((function(t){return r.a.createElement(r.a.Fragment,{key:"fragment-"+t.id},r.a.createElement(Y,{key:t.id,text:t.title,to:"/diagram/"+t.id}),r.a.createElement(O.FontAwesomeIcon,{key:"trash-"+t.id,"data-testid":"trash-"+t.id,color:"white",className:"trash-icon",icon:["fas","trash"],onClick:function(n){e.props.deleteChart(t.id),n.preventDefault()}}))})),this.getAddButton())}}]),n}(r.a.Component);$.defaultProps={charts:{}};var q=Object(p.b)((function(e){return{selected:e.charts.selected,charts:e.charts.charts}}),(function(e){return Object(d.b)({deleteChart:M},e)}))($),z=Object(d.d)(Object(d.c)({charts:I}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),Object(d.a)(h.a)),Q=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(p.a,{store:z},r.a.createElement(j,{title:["Flow","Charts"],titleShort:["Fl","Ch"],theme:"blue",sidebar:r.a.createElement(q,null),footer:r.a.createElement(m.Footer,null,"PoweredBy"," ",r.a.createElement("a",{href:"http://flowchart.js.org/",target:"_blank",rel:"noopener noreferrer"},"FlowChart"))},r.a.createElement(U,{path:"/diagram/:id"}),r.a.createElement(W,{path:"/new-chart"})))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[172,1,2]]]);
//# sourceMappingURL=main.2ebe17b0.chunk.js.map